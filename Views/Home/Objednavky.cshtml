@using System.Diagnostics
@using LadowebservisMVC.Models
@{
    ViewBag.Title = "Objednavky";
    Layout = "~/Views/Shared/_Layout.cshtml";

    // Diagnostics init
    var _viewTimer = Stopwatch.StartNew();
    var _memBefore = GC.GetTotalMemory(false);

    // Access gating flags
    var isAuthenticated = User?.Identity?.IsAuthenticated == true;
    var canOrder = (TempData["CanOrder"] as bool?) == true || (ViewBag.CanOrder as bool?) == true;

    // Registered user info
    var memberInfo = Session != null ? (Session["MemberInfo"] as MemberInfoModel) : null;
}

<div class="container-fluid card pt-4">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8 col-lg-6 text-center">
            <div class="mb-3">
                <div class="d-grid gap-2 d-sm-flex justify-content-center">
                    <div class="well text-left mt-3" style="background: rgba(255,255,255,0.06); padding: 1rem; color: #5d33fb;">
                        <h4>Informácie a objednávky</h4>

                        <div class="mt-3">
                            <p style="color:#5d33fb">Momentálne je sekcia objednávok vo vývoji. V blízkej dobe sem pribudne prehľad vašich objednávok. Tu nájdete prehľad svojich objednávok a stav spracovania. Sekcia sa postupne rozširuje — ak tu momentálne nevidíte žiadne objednávky, skúste sa zaregistrovať ako nový člen.</p>
                        </div>

                        <div class="d-flex flex-column flex-sm-row justify-content-center gap-2">
                            <a class="btn btn-outline-primary mb-2 mb-sm-0" href="@Url.Action("Registracia","Home")">Registrovať sa</a><br />
                            <a class="btn btn-outline-primary mb-2 mb-sm-0" href="@Url.Action("Login","Home")">Odhlásiť sa</a><br />
                            <a class="btn btn-outline-primary mb-2 mb-sm-0" href="@Url.Action("Memberinfo","Home")">Vrátiť sa späť</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@{
    // Stop timer and measure memory after view rendered
    _viewTimer.Stop();
    var _memAfter = GC.GetTotalMemory(false);
    var _memDelta = _memAfter - _memBefore;

    // Log server-side render time and memory delta for diagnostics
    try
    {
        Trace.TraceInformation($"[Objednavky.cshtml] View render time: {_viewTimer.ElapsedMilliseconds} ms; Memory delta: {_memDelta} bytes");
    }
    catch { }
}
<!-- Server-side view render: @(_viewTimer.ElapsedMilliseconds) ms; memory delta: @(_memDelta) bytes -->






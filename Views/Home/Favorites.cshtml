@{
    ViewBag.Title = "Ob¾úbené produkty";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid card py-4">
    <div class="row justify-content-center">
        <div class="col-xs-12 col-sm-10 col-md-8">
            <h2 class="mb-3 text-center" style="color:#ffffff;text-shadow:1px 1px 4px #5d33fb">Tvoj zoznam ob¾úbenıch produktov</h2>
            <p class="text-center" style="color: #5d33fb; margin-bottom: 1rem;">Tu nájdete produkty, ktoré ste si oznaèili ako ob¾úbené. Môete ich prida + do košíka, zvıši mnostvo alebo odstráni x zo zoznamu.</p>

            <ul id="favoritesList" class="list-group mb-1">
                <!-- Favorites populated by cart.js -> window.lwsRenderFavorites() -->
            </ul>

            <div class="text-center">
                <a href='@Url.Action("Produkty","Home")' class="btn btn-primary btn-sm">Ponuka produktov</a>
                <a href='@Url.Action("Kosik","Home")' class="btn btn-default btn-sm" style="margin-left:.5rem;">Spä do košíka</a>
                <button type="button"
                        class="btn btn-primary btn-xsm"
                        style="margin-left:.5rem;"
                        onclick="openSideCart()">
                    Skontrolova poloky v košíku
                </button>
            </div>

            <p class="small text-center" style="color: #5d33fb; margin-top: 2rem;">Tip: pouite tlaèidlá + a x na úpravu ob¾úbenıch produktov.</p>
        </div>
    </div>
</div>

<style>
    /* Make favorite list buttons smaller and compact */
    #favoritesList .btn-add-cart,
    #favoritesList .btn-remove-fav,
    #favoritesList .btn-dec-qty {
        padding: 1px 4px;
        font-size: 13px;
        line-height: 1.1;
    }
</style>

@section scripts {
    <script>
        function openSideCart() {
            try {
                var cart = document.getElementById('side-cart');
                var overlay = document.getElementById('cart-overlay');
                if (!cart || !overlay) return;
                cart.classList.add('open');
                overlay.classList.add('open');
                cart.setAttribute('aria-hidden', 'false');
                overlay.setAttribute('aria-hidden', 'false');
                cart.focus();
            } catch (e) { }
        }

        document.addEventListener('DOMContentLoaded', function () {
            try {
                if (window.lwsRenderFavorites) {
                    window.lwsRenderFavorites();
                    setTimeout(function () {
                        var el = document.getElementById('favoritesList');
                        if (el && el.children.length === 0) {
                            el.innerHTML = '<li class="list-group-item text-center">iadne ob¾úbené produkty.</li>';
                        }
                    }, 150);
                } else {
                    var el = document.getElementById('favoritesList');
                    if (el) el.innerHTML = '<li class="list-group-item text-center">iadne ob¾úbené produkty.</li>';
                }
            } catch (e) { }
        });
    </script>
}


